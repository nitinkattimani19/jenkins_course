pipeline{
  agent any
    stages {
      stage('prebuild'){
        steps {
          bat 'echo pre-build'
        }
      }
      stage('build'){
        steps {
          bat 'echo Build in progress'
        }
      }
      stage('unit tests'){
        steps {
          bat 'echo running unit tests'
        }
      }
      stage('deploy'){
        steps {
          bat 'echo deploying Build'
        }
      }
      stage('Regression Test'){
        parallel {
          stage('chrome') {
            steps{
              bat 'echo Running E2E tests on chrome'
            }
          }
          stage('firefox') {
            steps{
              bat 'echo Running E2E tests on firefox'
            }
          }
          stage('mozilla') {
            steps{
              bat 'echo Running E2E tests on mozilla'
            }
          }
        }
      }
      stage('Release to production'){
        steps {
          bat 'echo Releasing to production'
        }
      }
    }
    post{
      always{
        echo 'ALWAYS'
      }
    }
}
